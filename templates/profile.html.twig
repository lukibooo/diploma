{% extends 'base.html.twig' %}
{% block page_name %}profile{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/profile.css') }}">
{% endblock %}
{% block content %}
<div class="profile-container">
    {% if showAlert %}
        <div class="alert-warning">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m0-4h.01M12 2a10 10 0 100 20 10 10 0 000-20z" />
            </svg>
            –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤–∞—à –ø—Ä–æ—Ñ—ñ–ª—å, —â–æ–± –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ—é.
        </div>
    {% endif %}


    <form action="{{ path('profile_save') }}" method="post" enctype="multipart/form-data">
        <div class="profile-info-row">
            <div class="profile-fields">
                <div class="profile-field">
                    <div class="pill profile-label">–ü–Ü–ë:</div>
                    <div class="pill profile-value">{{ user.fullName }}</div>
                </div>
                <div class="profile-field">
                    <div class="pill profile-label">–ù–æ–º–µ—Ä:</div>
                    <div class="pill profile-value">{{ user.phone }}</div>
                </div>
                <div class="profile-field">
                    <div class="pill profile-label">–ü–æ—à—Ç–∞:</div>
                    <div class="pill profile-value">{{ user.email }}</div>
                </div>
            </div>
            <div class="profile-avatar-wrapper">
                <img class="profile-avatar" src="{{ asset(user.photo ?? 'images/profile.jpg') }}" alt="–ê–≤–∞—Ç–∞—Ä">
                <a href="{{ path('profile', { edit: 1 }) }}" class="edit-profile">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</a>
            </div>
        </div>

    <div class="about-block">
        <h3 class="pill profile-label">–ü—Ä–µ–¥–º–µ—Ç–∏</h3>
        <div class="subjects-wrapper">
            {% for i in 1..4 %}
                <div class="subject-block">
                    {% set nameField = attribute(user, 'subject' ~ i ~ 'Name') %}
                    {% set scoreField = attribute(user, 'subject' ~ i ~ 'Score') %}
                    {% if editMode %}
                        <input type="text" name="subject{{ i }}_name" list="subjects-list" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–µ–¥–º–µ—Ç–∞" value="{{ nameField ?? '' }}" class="pill" required>
                        <input type="number" name="subject{{ i }}_score" placeholder="–ë–∞–ª" min="100" max="200" value="{{ scoreField ?? '' }}" class="pill" required>
                    {% else %}
                        {% if nameField %}
                            <div class="pill">{{ nameField }}: {{ scoreField }}</div>
                        {% endif %}
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        <datalist id="subjects-list">
            <option value="–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞">
            <option value="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞">
            <option value="–Ü—Å—Ç–æ—Ä—ñ—è –£–∫—Ä–∞—ó–Ω–∏">
            <option value="–ë—ñ–æ–ª–æ–≥—ñ—è">
            <option value="–ì–µ–æ–≥—Ä–∞—Ñ—ñ—è">
            <option value="–§—ñ–∑–∏–∫–∞">
            <option value="–•—ñ–º—ñ—è">
            <option value="–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞">
            <option value="–ù—ñ–º–µ—Ü—å–∫–∞ –º–æ–≤–∞">
        </datalist>
    </div>

    <div class="interests-row">
        <div class="pill profile-label">–Ü–Ω—Ç–µ—Ä–µ—Å–∏:</div>
        <div class="interests-list">
            {% for interest in allInterests %}
                <label class="interest-pill">
                    {% if editMode %}
                        <input type="checkbox" name="interests[]" value="{{ interest.id }}" {% if interest in user.interests %}checked{% endif %}>
                    {% endif %}
                    {{ interest.name }}
                </label>
            {% endfor %}
        </div>
    </div>

    <div class="about-block">
        <label class="pill profile-label" for="about">–ü—Ä–æ –º–µ–Ω–µ:</label>
        {% if editMode %}
            <textarea id="about" name="about" class="about-preview">{{ user.about ?? '' }}</textarea>
        {% else %}
            <div class="pill profile-value">{{ user.about }}</div>
        {% endif %}
    </div>
<div class="profile-button-row">
        {% if editMode %}
            <button type="submit" class="edit-profile">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
        {% endif %}
        <a href="{{ path('app_logout') }}" class="profile-button-row exit-btn">–í–∏–π—Ç–∏</a>
        <form action="{{ path('delete_account') }}" method="post" onsubmit="return confirm('–¢–æ—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç?');">
            <button type="submit" class="profile-button-row danger-btn">–í–∏–¥–∞–ª–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
        </form>
</div>
</form>


</div>
{% endblock %}


{#% extends 'base.html.twig' %}#}
{#{% block page_name %}profile{% endblock %}#}
{#{% block stylesheets %}#}
{#    <link rel="stylesheet" href="{{ asset('css/profile.css') }}">#}
{#{% endblock %}#}
{#{% block content %}#}
{#    {% if showAlert %}#}
{#        <div class="alert alert-warning">#}
{#            üîî –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤–∞—à –ø—Ä–æ—Ñ—ñ–ª—å, —â–æ–± –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–Ω–Ω—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ—é.#}
{#        </div>#}
{#    {% endif %}#}
{#    <div class="profile-container">#}
{#        <h2>–ü—Ä–∏–≤—ñ—Ç, {{ user.email }}</h2>#}

{#        <form action="{{ path('profile_save') }}" method="post" enctype="multipart/form-data">#}
{#            <div class="profile-info-row">#}
{#                <div class="profile-fields">#}
{#                    <div class="profile-field">#}
{#                        <div class="pill profile-label">–ü–Ü–ë:</div>#}
{#                        <input type="text" name="full_name" class="pill profile-value" value="{{ user.fullName ?? '' }}" required>#}
{#                    </div>#}
{#                    <div class="profile-field">#}
{#                        <div class="pill profile-label">–ù–æ–º–µ—Ä:</div>#}
{#                        <input type="tel" name="phone" class="pill profile-value" value="{{ user.phone ?? '' }}" required>#}
{#                    </div>#}
{#                    <div class="profile-field">#}
{#                        <div class="pill profile-label">–ü–æ—à—Ç–∞:</div>#}
{#                        <div class="pill profile-value">{{ user.email }}</div>#}
{#                    </div>#}
{#                </div>#}
{#                <div class="profile-avatar-wrapper">#}
{#                    <img class="profile-avatar" src="{{ asset(user.photo ?? 'images/profile.jpg') }}" alt="–ê–≤–∞—Ç–∞—Ä">#}
{#                    <input type="file" name="photo">#}
{#                </div>#}
{#            </div>#}

{#            <ul class="scores-list">#}
{#                {% for result in user.subjectResults %}#}
{#                    <li class="score-item pill">#}
{#                        <span>{{ result.subject.name }}</span>#}
{#                        <input type="number" name="scores[{{ result.subject.id }}]" value="{{ result.score }}" min="100" max="200" required>#}
{#                    </li>#}
{#                {% endfor %}#}
{#            </ul>#}

{#            <div class="interests-row">#}
{#                <div class="pill profile-label">–Ü–Ω—Ç–µ—Ä–µ—Å–∏:</div>#}
{#                <div class="interests-list">#}
{#                    {% for interest in allInterests %}#}
{#                        <label class="interest-pill">#}
{#                            <input type="checkbox" name="interests[]" value="{{ interest.id }}" {% if interest in user.interests %}checked{% endif %}>#}
{#                            {{ interest.name }}#}
{#                        </label>#}
{#                    {% endfor %}#}
{#                </div>#}
{#            </div>#}

{#            <div class="about-block">#}
{#                <label class="about-block__label" for="about">–ü—Ä–æ –º–µ–Ω–µ:</label>#}
{#                <textarea id="about" name="about" class="about-block__textarea">{{ user.about ?? '' }}</textarea>#}
{#            </div>#}

{#            <div class="about-block">#}
{#                <button type="submit" class="auth-btn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>#}
{#                <a href="{{ path('app_logout') }}" class="auth-btn">–í–∏–π—Ç–∏</a>#}
{#            </div>#}
{#        </form>#}

{#        <form action="{{ path('delete_account') }}" method="post" onsubmit="return confirm('–¢–æ—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç?');">#}
{#            <button type="submit" class="danger-btn">–í–∏–¥–∞–ª–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>#}
{#        </form>#}
{#    </div>#}
{#{% endblock %}#}

{#{% extends 'base.html.twig' %}#}
{#{% block page_name %}profile{% endblock %}#}
{#{% block stylesheets %}#}
{#    <link rel="stylesheet" href="{{ asset('css/profile.css') }}">#}
{#{% endblock %}#}
{#{% block content %}#}
{#    <div class="profile-container">#}
{#        <h2>–ü—Ä–∏–≤—ñ—Ç!</h2>#}

{#        <div class="profile-info-row">#}
{#            <div class="profile-fields">#}
{#                <div class="profile-field">#}
{#                    <div class="pill profile-label">–ü–æ—à—Ç–∞:</div>#}
{#                    <div class="pill profile-value">{{ user.email }}</div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}

{#        <div class="about-block">#}
{#            <a href="{{ path('app_logout') }}" class="auth-btn" style="background-color: #f0f0f0; color: #333;">–í–∏–π—Ç–∏</a>#}
{#        </div>#}
{#    </div>#}
{#{% endblock %}#}




{#{% extends 'base.html.twig' %}#}
{#{% block page_name %}profile{% endblock %}#}
{#{% block stylesheets %}#}
{#    <link rel="stylesheet" href="{{ asset('css/profile.css') }}">#}
{#{% endblock %}#}
{#{% block content %}#}

{#    <div class="profile-container">#}

{#        <div class="profile-info-row">#}
{#            <div class="profile-fields">#}
{#                <div class="profile-field">#}
{#                    <div class="pill profile-label">–ü–Ü–ë:</div>#}
{#                    <div class="pill profile-value">–ö–∏–∑—å –õ—é–¥–º–∏–ª–∞ –õ–µ–æ–Ω—ñ–¥—ñ–≤–Ω–∞</div>#}
{#                </div>#}
{#                <div class="profile-field">#}
{#                    <div class="pill profile-label">–ù–æ–º–µ—Ä:</div>#}
{#                    <div class="pill profile-value">+380970675123</div>#}
{#                </div>#}
{#                <div class="profile-field">#}
{#                    <div class="pill profile-label">–ü–æ—à—Ç–∞:</div>#}
{#                    <div class="pill profile-value">liuda.kiz@gmail.com</div>#}
{#                </div>#}
{#            </div>#}
{#            <div class="profile-avatar-wrapper">#}
{#                <img class="profile-avatar" src="images/profile.jpg" alt="–ê–≤–∞—Ç–∞—Ä –õ—é–¥–º–∏–ª–∏">#}
{#                <a href="#" class="edit-profile">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å</a>#}
{#            </div>#}
{#        </div>#}


{#        <ul class="scores-list">#}
{#            <li class="score-item pill">#}
{#                <span>–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞</span>#}
{#                <span>188</span>#}
{#            </li>#}
{#            <li class="score-item pill">#}
{#                <span>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</span>#}
{#                <span>169</span>#}
{#            </li>#}
{#            <li class="score-item pill">#}
{#                <span>–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∞</span>#}
{#                <span>164</span>#}
{#            </li>#}
{#            <li class="score-item pill">#}
{#                <span>–§—ñ–∑–∏–∫–∞</span>#}
{#                <span>163</span>#}
{#            </li>#}
{#        </ul>#}


{#        <div class="interests-row">#}
{#            <div class="pill profile-label">–Ü–Ω—Ç–µ—Ä–µ—Å–∏:</div>#}
{#            <input class="interest-input" type="text" placeholder="–î–æ–¥–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä–µ—Å‚Ä¶"/>#}
{#        </div>#}
{#        <div class="about-block">#}
{#            <label class="about-block__label" for="about">–ü—Ä–æ –º–µ–Ω–µ:</label>#}
{#            <textarea id="about" class="about-block__textarea" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –∫—ñ–ª—å–∫–∞ —Å–ª—ñ–≤ –ø—Ä–æ —Å–µ–±–µ‚Ä¶"></textarea>#}
{#        </div>#}
{#        <div class="about-block">#}
{#            <label class="about-block__label" for="about">–ó–±–µ—Ä–µ–∂–µ–Ω—ñ —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç–∏:</label>#}
{#        </div>#}

{#    </div>#}



{#{% endblock %}#}
